"use strict";(self.webpackChunkexpense_mui=self.webpackChunkexpense_mui||[]).push([[966],{7966:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(3433),a=n(2791),o=n(9434),c=n(4165),i=n(5861),s=n(5894),u=n(2672),l=function(e,t,n){return function(){var r=(0,i.Z)((0,c.Z)().mark((function r(a){var o,i;return(0,c.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("http://23.21.23.89:3000/expense?page=".concat(t,"&pageCount=").concat(n),{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}});case 3:return o=r.sent,r.next=6,o.json();case 6:i=r.sent,a(u.c.setSentData(i)),r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),console.error(r.t0),r.abrupt("return");case 14:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()},d=n(3400),p=n(7247),h=n(6501),f=n(7689),x=n(184),m=function(e){var t=e.item,n=(0,o.I0)(),r=((0,f.s0)(),localStorage.getItem("token"));function a(e,r){localStorage.getItem("ispremium");n(function(e,t){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(r){var a,o;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://23.21.23.89:3000/post-product/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:t}});case 3:return a=n.sent,n.next=6,a.json();case 6:o=n.sent,r(u.c.callgetFunction()),console.log(o),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(t.id,r))}return(0,x.jsxs)("tr",{className:"some",children:[(0,x.jsx)("td",{children:t.name}),(0,x.jsx)("td",{children:t.description}),(0,x.jsx)("td",{children:t.amount}),(0,x.jsx)("td",{children:(0,x.jsx)(d.Z,{"aria-label":"delete",size:"small",color:"red",onClick:function(){return a(t.id,r)},children:(0,x.jsx)(p.Z,{})})})]},t.name)},g=n(4942),v=n(1413),j=n(9439),Z=n(8308),C=n(6151),y=n(3760),k={name:"",description:"",amount:""},b=function(){var e=(0,a.useState)(k),t=(0,j.Z)(e,2),n=t[0],r=t[1],s=((0,o.v9)((function(e){return e.expenseslice.data})),localStorage.getItem("token")),l=(0,o.I0)(),d=function(e){r((0,v.Z)((0,v.Z)({},n),{},(0,g.Z)({},e.target.name,e.target.value)))};return(0,x.jsxs)("div",{style:{marginTop:10},children:[(0,x.jsx)(Z.Z,{sx:{m:1.5,p:-10},type:"text",name:"name",onChange:d,label:"Name",variant:"outlined"}),(0,x.jsx)(Z.Z,{sx:{m:1.5},type:"text",name:"description",onChange:d,label:"Description",variant:"outlined"}),(0,x.jsx)(Z.Z,{sx:{m:1.5},type:"amount",name:"amount",onChange:d,label:"Amount",variant:"outlined"}),(0,x.jsx)("br",{}),(0,x.jsx)(C.Z,{sx:{width:{sx:100,sm:200,md:300},marginTop:2,color:"white",borderColor:"white",variant:"contained"},variant:"contained",onClick:function(e){e.preventDefault(),l(function(e,t){return function(){var n=(0,i.Z)((0,c.Z)().mark((function n(r){var a,o,i;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=JSON.stringify(e),n.next=4,fetch("http://23.21.23.89:3000/post-product",{method:"POST",body:a,headers:{"Content-Type":"application/json",Authorization:t}});case 4:return o=n.sent,n.next=7,o.json();case 7:i=n.sent,console.log(i),r(u.c.callgetFunction()),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(n,s))},startIcon:(0,x.jsx)(y.Z,{}),children:"Add Expense"})]})},w=n(9836),S=n(7246),I=n(1582),T=n(1027),E=n(3903);var A=function(e){var t=e.totalcount,n=void 0===t?17:t,c=(e.page,e.pageCount,e.setPagecount),i=(0,a.useState)(null),s=(0,j.Z)(i,2),u=s[0],l=s[1],d=((0,o.I0)(),Boolean(u)),p=function(e){var t=e.currentTarget.dataset.myValue;c(t),l(null)},h=(0,a.useMemo)((function(){return Math.ceil(n/5)}),[n]);return(0,x.jsxs)("div",{children:[(0,x.jsx)(C.Z,{id:"Menu","aria-controls":d?"Menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,onClick:function(e){l(e.currentTarget)},children:"Select"}),(0,x.jsx)(T.Z,{id:"Menu","aria-labelledby":"Menu",anchorEl:u,open:d,onClose:p,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,r.Z)(Array(h)).map((function(e,t){return(0,x.jsx)(E.Z,{"data-my-value":5*(t+1),onClick:p,onChange:function(){return function(e){var t=e.currentTarget.dataset.myValue;console.log(t)}(5*(t+1))},children:5*(t+1)})}))})]})},D=n(4554),N=!1;function P(e){var t=e.count,n=e.totalcount,r=(0,a.useState)(1),c=(0,j.Z)(r,2),i=c[0],s=c[1],d=(0,a.useState)(0),p=(0,j.Z)(d,2),h=p[0],f=p[1],m=localStorage.getItem("token"),g=(0,o.I0)();a.useEffect((function(){if(1==N)return g(l(m,i,h)),g(u.c.updatePage(i)),void g(u.c.updatePageCount(h));N=!0}),[i,h]);return(0,x.jsxs)(D.Z,{display:"flex",flexDirection:"row",children:[(0,x.jsx)(A,{totalcount:n,page:i,pageCount:h,setPagecount:f}),(0,x.jsx)(I.Z,{spacing:12,children:(0,x.jsx)(S.Z,{defaultPage:1,count:t,onChange:function(e,t){e.preventDefault(),s(t)},page:i||0,variant:"outlined",shape:"rounded"})})]})}var z=function(){var e=(0,o.I0)(),t=(0,o.v9)((function(e){return e.expenseslice})),n=((0,o.v9)((function(e){return e.expenseslice.LeaderBoard})),(0,f.s0)(),(0,o.v9)((function(e){return e.expenseslice.iscall}))),c=localStorage.getItem("ispremium");return(0,a.useEffect)((function(){var n=localStorage.getItem("token");"true"===localStorage.getItem("ispremium")?(console.log("call time page,pagecount",t.page,t.pageCount),console.log("is premium true"),e(l(n,t.page,t.pageCount)),e((0,h.y)(n))):(console.log("is premium false "),e(l(n,t.page,t.pageCount)))}),[n]),(0,x.jsxs)("div",{children:[(0,x.jsx)(b,{}),(0,x.jsxs)(w.Z,{stripe:"odd",hoverRow:!0,sx:{width:{sm:"100%",md:"60%"},m:"0 auto",mt:10},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"some",children:[(0,x.jsx)("th",{children:"Name"}),(0,x.jsx)("th",{children:"Description"}),(0,x.jsx)("th",{children:"Amount\xa0(Rs)"}),(0,x.jsx)("th",{children:"Button\xa0(icon)"})]})}),(0,x.jsx)("tbody",{children:(0,r.Z)(t.data).map((function(e){return(0,x.jsx)(m,{item:e},e.id)}))})]}),(0,x.jsx)("div",{className:"pagination-cont",children:(0,x.jsx)(P,{count:t.count})}),(0,x.jsx)("div",{children:"true"==c&&(0,x.jsx)(s.default,{})})]})}},5894:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(9439),a=n(2791),o=n(9434),c=n(6501),i=n(6151),s=n(4554),u=n(1889),l=n(5527),d=n(184),p=function(){var e=(0,a.useState)(!0),t=(0,r.Z)(e,2),n=t[0],p=t[1],h=(0,a.useState)(!1),f=(0,r.Z)(h,2),x=f[0],m=f[1],g=(0,o.v9)((function(e){return e.expenseslice.LeaderBoard})),v=(0,o.I0)();return(0,d.jsxs)("div",{children:[n&&(0,d.jsx)(i.Z,{variant:"contained",onClick:function(){return function(){p(!1),m(!x);var e=localStorage.getItem("token");console.log("test"),v((0,c.y)(e))}()},children:"Show LeaderBoard"}),!n&&(0,d.jsx)(i.Z,{variant:"contained",onClick:function(){p(!0),m(!1)},children:"Hide LeaderBoard"}),x&&(0,d.jsx)(s.Z,{children:(0,d.jsx)(u.ZP,{container:!0,spacing:1,sx:{display:"flex",flexDirection:"column",alignItems:{sx:"start",sm:"center",md:"center"}},children:g.map((function(e){return(0,d.jsx)(u.ZP,{item:!0,xs:4,children:(0,d.jsxs)(l.Z,{sx:{p:1,bgcolor:"lightgreen",display:"grid",gridTemplateColumns:{md:"fr 2fr"},gap:2,width:350,color:"black"},children:["Name= ",e.name,"----totalCost =",e.totalcost?e.totalcost:"NO Expense"]})})}))})})]})}},6501:function(e,t,n){n.d(t,{y:function(){return i}});var r=n(4165),a=n(5861),o=n(2672),c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n=[],t)n.push(t[a]);return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,i,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://23.21.23.89:3000/premium/leaderboard",{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}});case 3:return a=t.sent,t.next=6,a.json();case 6:return i=t.sent,console.log("leaderboard data",i),t.next=10,c(i);case 10:s=t.sent,n(o.c.updateLeaderBoard(s)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=966.69d0eba2.chunk.js.map